"use strict";(self.webpackChunkstreaming_platforms_analytics=self.webpackChunkstreaming_platforms_analytics||[]).push([[496],{5496:function(t,n,e){e.r(n);var r=e(2982),i=e(5671),a=e(3144),o=e(7326),u=e(136),s=e(7277),l=e(2791),c=e(4625),f=e(3928),h=e(4700),p=e(2451),d=e(6426),y=e(6143),v=e(6556),_=e(184),m=function(t){(0,u.Z)(e,t);var n=(0,s.Z)(e);function e(t){var r;return(0,i.Z)(this,e),(r=n.call(this,t)).state={ref:l.createRef()},r.plotRevenues=r.plotRevenues.bind((0,o.Z)(r)),r}return(0,a.Z)(e,[{key:"componentDidMount",value:function(){this.props.rev?this.plotRevenues():console.log("no data")}},{key:"componentDidUpdate",value:function(){this.props.rev?this.plotRevenues():console.log("no data")}},{key:"plotRevenues",value:function(){var t=this,n=this.state.ref.current;(0,c.Z)(n).selectAll("*").remove();var e=10,i=10,a=10,o=10,u=this.props.width-o-i,s=this.props.height-e-a,l=(0,f.Z)().domain(["Netflix","Prime","Disney"]).range(["#B81D24","#00A8E1","#113CCF"]),_=1e6,m=this.props.platform?[this.props.platform]:["Netflix","Prime","Disney"],g=this.props.platform?this.props.rev.filter((function(n){return n.platform===t.props.platform})):this.props.rev,x=(0,r.Z)(new Set(g.map((function(t){return t.quarter})))).sort(),M=(0,v.Z)(g,(function(t){return t.revenue}))/_,k=m.map((function(t){return{name:t,values:g.filter((function(n){return n.platform===t})).map((function(t){return{quarter:t.quarter,revenue:t.revenue/_}}))}})),Z=(0,h.Z)().domain(x).range([0,u]).padding(.3);(0,c.Z)(n).append("g").attr("transform","translate(0,"+s+")").style("font-size",14).call((0,d.LL)(Z).tickSize(10)),(0,c.Z)(n).append("text").attr("class","x label").style("text-anchor","middle").style("fill","white").attr("x",u/2).attr("y",s+60).style("font-size",22).text("Yearly quarters");var w=(0,p.Z)().domain([0,M]).range([s,0]);(0,c.Z)(n).append("g").style("font-size",14).call((0,d.y4)(w)),(0,c.Z)(n).append("text").attr("transform","rotate(-90)").style("text-anchor","middle").attr("fill","white").attr("y",-70).attr("x",0-s/2).style("font-size",22).text("Revenues (in millions $)");var A=(0,y.Z)().x((function(t){return Z(t.quarter)})).y((function(t){return w(t.revenue)}));(0,c.Z)(n).selectAll("myLines").data(k).enter().append("path").attr("d",(function(t){return A(t.values)})).attr("stroke",(function(t){return l(t.name)})).style("stroke-width",4).style("fill","none"),(0,c.Z)(n).selectAll("myDots").data(k).enter().append("g").style("fill",(function(t){return l(t.name)})).selectAll("myPoints").data((function(t){return t.values})).enter().append("circle").attr("cx",(function(t){return Z(t.quarter)})).attr("cy",(function(t){return w(t.revenue)})).attr("r",6).attr("stroke","none"),(0,c.Z)(n).selectAll("myLabels").data(k).enter().append("g").append("text").datum((function(t){return{name:t.name,value:t.values[t.values.length-1]}})).attr("transform",(function(t){return"translate("+Z(t.value.quarter)+","+w(t.value.revenue)+")"})).attr("x",15).text((function(t){return t.name})).style("fill",(function(t){return l(t.name)})).style("font-size",20).style("font-weight","bold")}},{key:"render",value:function(){return(0,_.jsx)("svg",{ref:this.state.ref,viewBox:"-90 -20 ".concat(this.props.width+110," ").concat(this.props.height+70)})}}]),e}(l.Component);n.default=m},6556:function(t,n,e){e.d(n,{Z:function(){return i}});var r=e(7762);function i(t,n){var e;if(void 0===n){var i,a=(0,r.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(e<o||void 0===e&&o>=o)&&(e=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=(0,r.Z)(t);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=n(c,++s,t))&&(e<c||void 0===e&&c>=c)&&(e=c)}}catch(f){l.e(f)}finally{l.f()}}return e}},6426:function(t,n,e){function r(t){return t}e.d(n,{LL:function(){return f},y4:function(){return h}});var i=1e-6;function a(t){return"translate("+t+",0)"}function o(t){return"translate(0,"+t+")"}function u(t){return function(n){return+t(n)}}function s(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function l(){return!this.__axis}function c(t,n){var e=[],c=null,f=null,h=6,p=6,d=3,y="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,v=1===t||4===t?-1:1,_=4===t||2===t?"x":"y",m=1===t||3===t?a:o;function g(a){var o=null==c?n.ticks?n.ticks.apply(n,e):n.domain():c,g=null==f?n.tickFormat?n.tickFormat.apply(n,e):r:f,x=Math.max(h,0)+d,M=n.range(),k=+M[0]+y,Z=+M[M.length-1]+y,w=(n.bandwidth?s:u)(n.copy(),y),A=a.selection?a.selection():a,b=A.selectAll(".domain").data([null]),z=A.selectAll(".tick").data(o,n).order(),C=z.exit(),q=z.enter().append("g").attr("class","tick"),L=z.select("line"),R=z.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(q),L=L.merge(q.append("line").attr("stroke","currentColor").attr(_+"2",v*h)),R=R.merge(q.append("text").attr("fill","currentColor").attr(_,v*x).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),a!==A&&(b=b.transition(a),z=z.transition(a),L=L.transition(a),R=R.transition(a),C=C.transition(a).attr("opacity",i).attr("transform",(function(t){return isFinite(t=w(t))?m(t+y):this.getAttribute("transform")})),q.attr("opacity",i).attr("transform",(function(t){var n=this.parentNode.__axis;return m((n&&isFinite(n=n(t))?n:w(t))+y)}))),C.remove(),b.attr("d",4===t||2===t?p?"M"+v*p+","+k+"H"+y+"V"+Z+"H"+v*p:"M"+y+","+k+"V"+Z:p?"M"+k+","+v*p+"V"+y+"H"+Z+"V"+v*p:"M"+k+","+y+"H"+Z),z.attr("opacity",1).attr("transform",(function(t){return m(w(t)+y)})),L.attr(_+"2",v*h),R.attr(_,v*x).text(g),A.filter(l).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),A.each((function(){this.__axis=w}))}return g.scale=function(t){return arguments.length?(n=t,g):n},g.ticks=function(){return e=Array.from(arguments),g},g.tickArguments=function(t){return arguments.length?(e=null==t?[]:Array.from(t),g):e.slice()},g.tickValues=function(t){return arguments.length?(c=null==t?null:Array.from(t),g):c&&c.slice()},g.tickFormat=function(t){return arguments.length?(f=t,g):f},g.tickSize=function(t){return arguments.length?(h=p=+t,g):h},g.tickSizeInner=function(t){return arguments.length?(h=+t,g):h},g.tickSizeOuter=function(t){return arguments.length?(p=+t,g):p},g.tickPadding=function(t){return arguments.length?(d=+t,g):d},g.offset=function(t){return arguments.length?(y=+t,g):y},g}function f(t){return c(3,t)}function h(t){return c(4,t)}},4700:function(t,n,e){e.d(n,{Z:function(){return u}});var r=e(885);function i(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),a=new Array(i);++r<i;)a[r]=t+r*e;return a}var a=e(507),o=e(3928);function u(){var t,n,e=(0,o.Z)().unknown(void 0),s=e.domain,l=e.range,c=0,f=1,h=!1,p=0,d=0,y=.5;function v(){var e=s().length,r=f<c,a=r?f:c,o=r?c:f;t=(o-a)/Math.max(1,e-p+2*d),h&&(t=Math.floor(t)),a+=(o-a-t*(e-p))*y,n=t*(1-p),h&&(a=Math.round(a),n=Math.round(n));var u=i(e).map((function(n){return a+t*n}));return l(r?u.reverse():u)}return delete e.unknown,e.domain=function(t){return arguments.length?(s(t),v()):s()},e.range=function(t){var n;return arguments.length?(n=(0,r.Z)(t,2),c=n[0],f=n[1],c=+c,f=+f,v()):[c,f]},e.rangeRound=function(t){var n;return n=(0,r.Z)(t,2),c=n[0],f=n[1],c=+c,f=+f,h=!0,v()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(h=!!t,v()):h},e.padding=function(t){return arguments.length?(p=Math.min(1,d=+t),v()):p},e.paddingInner=function(t){return arguments.length?(p=Math.min(1,t),v()):p},e.paddingOuter=function(t){return arguments.length?(d=+t,v()):d},e.align=function(t){return arguments.length?(y=Math.max(0,Math.min(1,t)),v()):y},e.copy=function(){return u(s(),[c,f]).round(h).paddingInner(p).paddingOuter(d).align(y)},a.o.apply(v(),arguments)}},6143:function(t,n,e){e.d(n,{Z:function(){return y}});var r=Math.PI,i=2*r,a=1e-6,o=i-a;function u(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new u}u.prototype=s.prototype={constructor:u,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,i,o){t=+t,n=+n,e=+e,i=+i,o=+o;var u=this._x1,s=this._y1,l=e-t,c=i-n,f=u-t,h=s-n,p=f*f+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(p>a)if(Math.abs(h*l-c*f)>a&&o){var d=e-u,y=i-s,v=l*l+c*c,_=d*d+y*y,m=Math.sqrt(v),g=Math.sqrt(p),x=o*Math.tan((r-Math.acos((v+p-_)/(2*m*g)))/2),M=x/g,k=x/m;Math.abs(M-1)>a&&(this._+="L"+(t+M*f)+","+(n+M*h)),this._+="A"+o+","+o+",0,0,"+ +(h*d>f*y)+","+(this._x1=t+k*l)+","+(this._y1=n+k*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,u,s,l){t=+t,n=+n,l=!!l;var c=(e=+e)*Math.cos(u),f=e*Math.sin(u),h=t+c,p=n+f,d=1^l,y=l?u-s:s-u;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+h+","+p:(Math.abs(this._x1-h)>a||Math.abs(this._y1-p)>a)&&(this._+="L"+h+","+p),e&&(y<0&&(y=y%i+i),y>o?this._+="A"+e+","+e+",0,1,"+d+","+(t-c)+","+(n-f)+"A"+e+","+e+",0,1,"+d+","+(this._x1=h)+","+(this._y1=p):y>a&&(this._+="A"+e+","+e+",0,"+ +(y>=r)+","+d+","+(this._x1=t+e*Math.cos(s))+","+(this._y1=n+e*Math.sin(s))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var l=s;Array.prototype.slice;function c(t){return function(){return t}}function f(t){this._context=t}function h(t){return new f(t)}function p(t){return t[0]}function d(t){return t[1]}function y(t,n){var e=c(!0),r=null,i=h,a=null;function o(o){var u,s,c,f=(o=function(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}(o)).length,h=!1;for(null==r&&(a=i(c=l())),u=0;u<=f;++u)!(u<f&&e(s=o[u],u,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(s,u,o),+n(s,u,o));if(c)return a=null,c+""||null}return t="function"===typeof t?t:void 0===t?p:c(t),n="function"===typeof n?n:void 0===n?d:c(n),o.x=function(n){return arguments.length?(t="function"===typeof n?n:c(+n),o):t},o.y=function(t){return arguments.length?(n="function"===typeof t?t:c(+t),o):n},o.defined=function(t){return arguments.length?(e="function"===typeof t?t:c(!!t),o):e},o.curve=function(t){return arguments.length?(i=t,null!=r&&(a=i(r)),o):i},o.context=function(t){return arguments.length?(null==t?r=a=null:a=i(r=t),o):r},o}f.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}}}}]);
//# sourceMappingURL=496.bc62d49f.chunk.js.map