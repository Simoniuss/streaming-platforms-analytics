"use strict";(self.webpackChunkstreaming_platforms_analytics=self.webpackChunkstreaming_platforms_analytics||[]).push([[990],{1990:function(t,e,n){n.r(e);var r=n(5671),a=n(3144),i=n(7326),o=n(136),p=n(7277),u=n(2791),s=n(4625),c=n(7532),d=n(9942),h=n(9507),l=n(4286),f=n(3928),m=n(184),g=function(t){(0,o.Z)(n,t);var e=(0,p.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).state={ref:u.createRef()},a.createTreemap=a.createTreemap.bind((0,i.Z)(a)),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"componentDidUpdate",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"createTreemap",value:function(){var t=this.state.ref.current,e=(0,l.Z)().rangeRound([0,this.props.width]),n=(0,l.Z)().rangeRound([0,this.props.height]),r=this.props.platform,a=(this.props.type,this.props.genre,(0,f.Z)().domain(["Netflix","Prime","Disney"]).range(["#B81D24","#00A8E1","#113CCF"])),i=(0,f.Z)().domain(["Netflix","Prime","Disney"]).range(["white","black","white"]),o=(0,h.jJ)(this.props.data,(function(t){return t.length}),(function(t){return t.platform}),(function(t){return t.type}),(function(t){return t.genre[0]})),p=(0,c.ZP)(o);function u(o){var p=o.depth+1;e.domain([o.x0,o.x1]),n.domain([o.y0,o.y1]),(0,s.Z)(t).selectAll("rect").data(o.descendants()).enter().filter((function(t){return t.depth===p||t.depth===p-1})).append("rect").attr("x",(function(t){return e(t.x0)})).attr("y",(function(t){return n(t.y0)})).attr("width",(function(t){return e(t.x1)-e(t.x0)})).attr("height",(function(t){return n(t.y1)-n(t.y0)})).style("stroke","white").style("fill",(function(t){return 1===t.depth?a(t.data[0]):2===t.depth?a(t.parent.data[0]):3===t.depth?a(t.parent.parent.data[0]):"#282626"})).attr("cursor","pointer").on("click",(function(e,n){n===o?function(e){e.parent&&((0,s.Z)(t).selectAll("*").remove(),u(e.parent))}(o):function(e){e.parent&&(console.log(r),(0,s.Z)(t).selectAll("*").remove(),u(e))}(n)})),(0,s.Z)(t).selectAll("text").data(o.descendants()).enter().filter((function(t){return t.depth===p||t.depth===p-1})).append("text").attr("x",(function(t){return e(t.x0)+5})).attr("y",(function(t){return n(t.y0)+15})).text((function(t){return 0===t.depth?"All: "+t.value:e(t.x1)-e(t.x0)>100?t.data[0]+": "+t.value:e(t.x1)-e(t.x0)>50?t.data[0]:"..."})).attr("font-size",(function(t){return e(t.x1)-e(t.x0)>100&&n(t.y1)-n(t.y0)>20?"1em":e(t.x1)-e(t.x0)>50&&n(t.y1)-n(t.y0)>10?"0.8em":"0.3em"})).attr("font-weight","bold").attr("fill",(function(t){return 1===t.depth?i(t.data[0]):2===t.depth?i(t.parent.data[0]):3===t.depth?i(t.parent.parent.data[0]):"white"}))}p.sum((function(t){return t[1]})).sort((function(t,e){return e.height-t.height||e.value-t.value})),(0,d.Z)().size([this.props.width,this.props.height]).paddingTop(20).paddingRight(1).paddingLeft(1).paddingBottom(2).paddingInner(0)(p),u(p)}},{key:"render",value:function(){return(0,m.jsx)("svg",{ref:this.state.ref,viewBox:"-5 -20 ".concat(this.props.width+20," ").concat(this.props.height+20)})}}]),n}(u.Component);e.default=g}}]);
//# sourceMappingURL=990.e20ac76a.chunk.js.map