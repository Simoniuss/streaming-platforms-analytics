"use strict";(self.webpackChunkstreaming_platforms_analytics=self.webpackChunkstreaming_platforms_analytics||[]).push([[990],{1990:function(t,e,n){n.r(e);var r=n(5671),a=n(3144),i=n(7326),o=n(136),p=n(7277),s=n(2791),u=n(4625),d=n(7532),c=n(9942),h=n(9507),f=n(4286),l=n(3928),m=n(184),y=function(t){(0,o.Z)(n,t);var e=(0,p.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).state={ref:s.createRef()},a.createTreemap=a.createTreemap.bind((0,i.Z)(a)),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"componentDidUpdate",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"createTreemap",value:function(){var t=this,e=this.state.ref.current;(0,u.Z)(e).selectAll("*").remove();var n=(0,f.Z)().rangeRound([0,this.props.width]),r=(0,f.Z)().rangeRound([0,this.props.height]),a=(0,l.Z)().domain(["Netflix","Prime","Disney"]).range(["#B81D24","#00A8E1","#113CCF"]),i=(0,l.Z)().domain(["Netflix","Prime","Disney"]).range(["white","black","white"]),o=(0,h.jJ)(this.props.data,(function(t){return t.length}),(function(t){return t.platform}),(function(t){return t.type}),(function(t){return t.genre[0]})),p=(0,d.ZP)(o);function s(t){n.domain([t.x0,t.x1]),r.domain([t.y0,t.y1]),(0,u.Z)(e).selectAll("rect").data(t.descendants()).enter().append("rect").attr("x",(function(t){return n(t.x0)})).attr("y",(function(t){return r(t.y0)})).attr("width",(function(t){return n(t.x1)-n(t.x0)})).attr("height",(function(t){return r(t.y1)-r(t.y0)})).style("stroke","white").style("fill",(function(t){return 1===t.depth?a(t.data[0]):2===t.depth?a(t.parent.data[0]):3===t.depth?a(t.parent.parent.data[0]):"#282626"})),(0,u.Z)(e).selectAll("text").data(t.descendants()).enter().append("text").attr("x",(function(t){return n(t.x0)+5})).attr("y",(function(t){return r(t.y0)+15})).text((function(t){return 0===t.depth?"All":n(t.x1)-n(t.x0)>40&&r(t.y1)-r(t.y0)>20?t.data[0]:"..."})).attr("font-size",(function(t){return n(t.x1)-n(t.x0)>100&&r(t.y1)-r(t.y0)>20?"1.2em":n(t.x1)-n(t.x0)>60&&r(t.y1)-r(t.y0)>20?"0.8em":n(t.x1)-n(t.x0)>30&&r(t.y1)-r(t.y0)>20?"0.6em":"0.4em"})).attr("font-weight","bold").attr("fill",(function(t){return 1===t.depth?i(t.data[0]):2===t.depth?i(t.parent.data[0]):3===t.depth?i(t.parent.parent.data[0]):"white"}))}p.sum((function(t){return t[1]})).sort((function(t,e){return e.height-t.height||e.value-t.value})),(0,c.Z)().size([this.props.width,this.props.height]).paddingTop(20).paddingRight(1).paddingLeft(1).paddingBottom(2).paddingInner(0)(p),this.props.genre||this.props.type?s(p.find((function(e){return e.data[0]===t.props.platform})).find((function(e){return e.data[0]===t.props.type}))):this.props.platform?s(p.find((function(e){return e.data[0]===t.props.platform}))):s(p)}},{key:"render",value:function(){return(0,m.jsx)("svg",{ref:this.state.ref,viewBox:"-5 -20 ".concat(this.props.width+30," ").concat(this.props.height+20)})}}]),n}(s.Component);e.default=y}}]);
//# sourceMappingURL=990.fbc491e2.chunk.js.map