"use strict";(self.webpackChunkstreaming_platforms_analytics=self.webpackChunkstreaming_platforms_analytics||[]).push([[759],{759:function(t,n,r){r.r(n),r.d(n,{default:function(){return _}});var e=r(5671),i=r(3144),a=r(7326),o=r(136),l=r(7277),u=r(2791),f=r(4625),s=r(3928),c=r(2451),p=r(6426),h=r(885),d=Array.prototype,v=d.slice,m=(d.map,r(1212));function y(t){return function(){return t}}var g=r(7762);function k(t,n){var r,e;if(void 0===n){var i,a=(0,g.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===r?o>=o&&(r=e=o):(r>o&&(r=o),e<o&&(e=o)))}}catch(c){a.e(c)}finally{a.f()}}else{var l,u=-1,f=(0,g.Z)(t);try{for(f.s();!(l=f.n()).done;){var s=l.value;null!=(s=n(s,++u,t))&&(void 0===r?s>=s&&(r=e=s):(r>s&&(r=s),e<s&&(e=s)))}}catch(c){f.e(c)}finally{f.f()}}return[r,e]}var Z=r(1190),x=r(1897);function M(t){return Math.ceil(Math.log(function(t,n){var r=0;if(void 0===n){var e,i=(0,g.Z)(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;null!=a&&(a=+a)>=a&&++r}}catch(s){i.e(s)}finally{i.f()}}else{var o,l=-1,u=(0,g.Z)(t);try{for(u.s();!(o=u.n()).done;){var f=o.value;null!=(f=n(f,++l,t))&&(f=+f)>=f&&++r}}catch(s){u.e(s)}finally{u.f()}}return r}(t))/Math.LN2)+1}function A(){var t=Z.Z,n=k,r=M;function e(e){Array.isArray(e)||(e=Array.from(e));var i,a,o,l=e.length,u=new Array(l);for(i=0;i<l;++i)u[i]=t(e[i],i,e);var f=n(u),s=f[0],c=f[1],p=r(u,s,c);if(!Array.isArray(p)){var d=c,v=+p;if(n===k){var y=function(t,n,r){for(var e;;){var i=(0,x.G9)(t,n,r);if(i===e||0===i||!isFinite(i))return[t,n];i>0?(t=Math.floor(t/i)*i,n=Math.ceil(n/i)*i):i<0&&(t=Math.ceil(t*i)/i,n=Math.floor(n*i)/i),e=i}}(s,c,v),g=(0,h.Z)(y,2);s=g[0],c=g[1]}if((p=(0,x.ZP)(s,c,v))[0]<=s&&(o=(0,x.G9)(s,c,v)),p[p.length-1]>=c)if(d>=c&&n===k){var Z=(0,x.G9)(s,c,v);isFinite(Z)&&(Z>0?c=(Math.floor(c/Z)+1)*Z:Z<0&&(c=(Math.ceil(c*-Z)+1)/-Z))}else p.pop()}for(var M=p.length;p[0]<=s;)p.shift(),--M;for(;p[M-1]>c;)p.pop(),--M;var A,w=new Array(M+1);for(i=0;i<=M;++i)(A=w[i]=[]).x0=i>0?p[i-1]:s,A.x1=i<M?p[i]:c;if(isFinite(o)){if(o>0)for(i=0;i<l;++i)null!=(a=u[i])&&s<=a&&a<=c&&w[Math.min(M,Math.floor((a-s)/o))].push(e[i]);else if(o<0)for(i=0;i<l;++i)if(null!=(a=u[i])&&s<=a&&a<=c){var b=Math.floor((s-a)*o);w[Math.min(M,b+(p[b]<=a))].push(e[i])}}else for(i=0;i<l;++i)null!=(a=u[i])&&s<=a&&a<=c&&w[(0,m.ZP)(p,a,0,M)].push(e[i]);return w}return e.value=function(n){return arguments.length?(t="function"===typeof n?n:y(n),e):t},e.domain=function(t){return arguments.length?(n="function"===typeof t?t:y([t[0],t[1]]),e):n},e.thresholds=function(t){return arguments.length?(r="function"===typeof t?t:Array.isArray(t)?y(v.call(t)):y(t),e):r},e}var w=r(6556),b=r(184),_=function(t){(0,o.Z)(r,t);var n=(0,l.Z)(r);function r(t){var i;return(0,e.Z)(this,r),(i=n.call(this,t)).state={ref:u.createRef()},i.plotHist=i.plotHist.bind((0,a.Z)(i)),i}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){this.props.data?this.plotHist():console.log("no data")}},{key:"componentDidUpdate",value:function(){this.props.data?this.plotHist():console.log("no data")}},{key:"plotHist",value:function(){var t=this,n=this.state.ref.current;(0,f.Z)(n).selectAll("*").remove();var r=10,e=10,i=10,a=10,o=this.props.width-a-e,l=this.props.height-r-i,u=(0,s.Z)().domain(["Netflix","Prime","Disney",null]).range(["#B81D24","#00A8E1","#113CCF","#69b3a2"]),h=this.props.data.filter((function(n){return!t.props.platform||n.platform===t.props.platform})).filter((function(n){return!t.props.type||n.type===t.props.type})).filter((function(n){return!t.props.genre||n.genre.includes(t.props.genre)})),d="imdb"===this.props.vote?10:100,v="imdb"===this.props.vote?h.map((function(t){return t.imdb})):"rt"===this.props.vote?h.map((function(t){return t.rt})):h.map((function(t){return t.mc})),m=(0,c.Z)().domain([0,d]).range([0,o]);(0,f.Z)(n).append("g").attr("transform","translate(0,"+l+")").style("font-size",18).call((0,p.LL)(m));var y=A().domain(m.domain()).thresholds(m.ticks(this.props.tick))(v.filter((function(t){return t>0}))),g=(0,c.Z)().range([l,0]).domain([0,(0,w.Z)(y,(function(t){return t.length}))]);(0,f.Z)(n).append("g").style("font-size",18).call((0,p.y4)(g)),(0,f.Z)(n).selectAll("rect").data(y).enter().append("rect").attr("class","bar").attr("x",1).attr("transform",(function(t){return"translate("+m(t.x0)+","+g(t.length)+")"})).attr("width",(function(t){return m(t.x1)-m(t.x0)-1})).attr("height",(function(t){return l-g(t.length)})).style("fill",u(this.props.platform))}},{key:"render",value:function(){return(0,b.jsx)("svg",{ref:this.state.ref,viewBox:"-60 -10 ".concat(this.props.width+60," ").concat(this.props.height+20)})}}]),r}(u.Component)},1190:function(t,n,r){function e(t){return t}r.d(n,{Z:function(){return e}})},6556:function(t,n,r){r.d(n,{Z:function(){return i}});var e=r(7762);function i(t,n){var r;if(void 0===n){var i,a=(0,e.Z)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(r<o||void 0===r&&o>=o)&&(r=o)}}catch(c){a.e(c)}finally{a.f()}}else{var l,u=-1,f=(0,e.Z)(t);try{for(f.s();!(l=f.n()).done;){var s=l.value;null!=(s=n(s,++u,t))&&(r<s||void 0===r&&s>=s)&&(r=s)}}catch(c){f.e(c)}finally{f.f()}}return r}},6426:function(t,n,r){function e(t){return t}r.d(n,{LL:function(){return c},y4:function(){return p}});var i=1e-6;function a(t){return"translate("+t+",0)"}function o(t){return"translate(0,"+t+")"}function l(t){return function(n){return+t(n)}}function u(t,n){return n=Math.max(0,t.bandwidth()-2*n)/2,t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function f(){return!this.__axis}function s(t,n){var r=[],s=null,c=null,p=6,h=6,d=3,v="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,m=1===t||4===t?-1:1,y=4===t||2===t?"x":"y",g=1===t||3===t?a:o;function k(a){var o=null==s?n.ticks?n.ticks.apply(n,r):n.domain():s,k=null==c?n.tickFormat?n.tickFormat.apply(n,r):e:c,Z=Math.max(p,0)+d,x=n.range(),M=+x[0]+v,A=+x[x.length-1]+v,w=(n.bandwidth?u:l)(n.copy(),v),b=a.selection?a.selection():a,_=b.selectAll(".domain").data([null]),F=b.selectAll(".tick").data(o,n).order(),H=F.exit(),C=F.enter().append("g").attr("class","tick"),z=F.select("line"),L=F.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),F=F.merge(C),z=z.merge(C.append("line").attr("stroke","currentColor").attr(y+"2",m*p)),L=L.merge(C.append("text").attr("fill","currentColor").attr(y,m*Z).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),a!==b&&(_=_.transition(a),F=F.transition(a),z=z.transition(a),L=L.transition(a),H=H.transition(a).attr("opacity",i).attr("transform",(function(t){return isFinite(t=w(t))?g(t+v):this.getAttribute("transform")})),C.attr("opacity",i).attr("transform",(function(t){var n=this.parentNode.__axis;return g((n&&isFinite(n=n(t))?n:w(t))+v)}))),H.remove(),_.attr("d",4===t||2===t?h?"M"+m*h+","+M+"H"+v+"V"+A+"H"+m*h:"M"+v+","+M+"V"+A:h?"M"+M+","+m*h+"V"+v+"H"+A+"V"+m*h:"M"+M+","+v+"H"+A),F.attr("opacity",1).attr("transform",(function(t){return g(w(t)+v)})),z.attr(y+"2",m*p),L.attr(y,m*Z).text(k),b.filter(f).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=w}))}return k.scale=function(t){return arguments.length?(n=t,k):n},k.ticks=function(){return r=Array.from(arguments),k},k.tickArguments=function(t){return arguments.length?(r=null==t?[]:Array.from(t),k):r.slice()},k.tickValues=function(t){return arguments.length?(s=null==t?null:Array.from(t),k):s&&s.slice()},k.tickFormat=function(t){return arguments.length?(c=t,k):c},k.tickSize=function(t){return arguments.length?(p=h=+t,k):p},k.tickSizeInner=function(t){return arguments.length?(p=+t,k):p},k.tickSizeOuter=function(t){return arguments.length?(h=+t,k):h},k.tickPadding=function(t){return arguments.length?(d=+t,k):d},k.offset=function(t){return arguments.length?(v=+t,k):v},k}function c(t){return s(3,t)}function p(t){return s(4,t)}}}]);
//# sourceMappingURL=759.1da18471.chunk.js.map