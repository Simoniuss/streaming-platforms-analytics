"use strict";(self.webpackChunkstreaming_platforms_analytics=self.webpackChunkstreaming_platforms_analytics||[]).push([[990],{1990:function(t,e,n){n.r(e);var r=n(5671),a=n(3144),i=n(7326),o=n(136),u=n(7277),p=n(2791),s=n(4625),c=n(7532),d=n(9942),l=n(9507),f=n(4286),h=n(3928),m=n(184),g=function(t){(0,o.Z)(n,t);var e=(0,u.Z)(n);function n(t){var a;return(0,r.Z)(this,n),(a=e.call(this,t)).state={ref:p.createRef()},a.createTreemap=a.createTreemap.bind((0,i.Z)(a)),a}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"componentDidUpdate",value:function(){this.props.data?this.createTreemap():console.log("no data")}},{key:"createTreemap",value:function(){var t=this.state.ref.current,e=(0,f.Z)().rangeRound([0,this.props.width]),n=(0,f.Z)().rangeRound([0,this.props.height]),r=(0,h.Z)().domain(["Netflix","Prime","Disney"]).range(["#B81D24","#00A8E1","#113CCF"]),a=(0,l.jJ)(this.props.data,(function(t){return t.length}),(function(t){return t.platform}),(function(t){return t.type}),(function(t){return t.genre[0]})),i=(0,c.ZP)(a);function o(a){var i=a.depth+1;e.domain([a.x0,a.x1]),n.domain([a.y0,a.y1]),(0,s.Z)(t).selectAll("rect").data(a.descendants()).enter().filter((function(t){return t.depth===i||t.depth===i-1})).append("rect").attr("x",(function(t){return e(t.x0)})).attr("y",(function(t){return n(t.y0)})).attr("width",(function(t){return e(t.x1)-e(t.x0)})).attr("height",(function(t){return n(t.y1)-n(t.y0)})).style("stroke","white").style("fill",(function(t){return 1===t.depth?r(t.data[0]):2===t.depth?r(t.parent.data[0]):3===t.depth?r(t.parent.parent.data[0]):"transparent"})).attr("cursor","pointer").on("click",(function(e,n){return n===a?function(e){e.parent&&((0,s.Z)(t).selectAll("*").remove(),o(e.parent))}(a):function(e){e.parent&&((0,s.Z)(t).selectAll("*").remove(),o(e))}(n)})),(0,s.Z)(t).selectAll("text").data(a.descendants()).enter().filter((function(t){return t.depth===i||t.depth===i-1})).append("text").attr("x",(function(t){return e(t.x0)})).attr("y",(function(t){return n(t.y0)})).text((function(t){return 0===t.depth?"All: "+t.value:t.data[0]+": "+t.value})).attr("font-size","1.2em").attr("font-weight","bold").attr("fill","white")}i.sum((function(t){return t[1]})),(0,d.Z)().size([this.props.width,this.props.height]).paddingTop(30).paddingRight(3).paddingLeft(3).paddingBottom(3).paddingInner(10)(i),o(i)}},{key:"render",value:function(){return(0,m.jsx)("svg",{ref:this.state.ref,viewBox:"-5 -20 ".concat(this.props.width+50," ").concat(this.props.height+20)})}}]),n}(p.Component);e.default=g}}]);
//# sourceMappingURL=990.3d17f12d.chunk.js.map